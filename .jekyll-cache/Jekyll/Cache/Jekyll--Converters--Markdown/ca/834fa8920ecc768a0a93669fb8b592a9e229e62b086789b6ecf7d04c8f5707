I",t<p>This is a small project I did when I was in college, the use of open data to create effective air pollution awareness among the community using JQuery. View how the air quality is changing, health effect it offers using chart visualization provided by CanvasJS, save the visualization in image or PDF document.</p>

<h1 id="air-pollution">Air pollution?</h1>
<p>Emissions is the term used to describe the gases and particles which are suspended or emitted in the air through various sources which results in formation of toxics substances which includes carbon monoxide, nitrous oxides, methane, chlorofluorocarbons gases often harmful to human health when consumed indirectly at Hazardous levels - detrimental to human health and the planet, major factor for <a href="https://www.epa.gov/clean-air-act-overview/air-pollution-current-and-future-challenges#limiting">Climate Change</a>.</p>

<h2 id="how-it-works">How it works?</h2>
<ul>
  <li>Fetch open-source data available at <a href="https://www.epa.gov/outdoor-air-quality-data" target="_blank">EPA</a></li>
  <li>Render in charts using <a href="https://canvasjs.com/" target="_blank">CanvasJS</a></li>
  <li>Display health messages based on current air</li>
  <li>Visualize AQI, PM2.5 using AQI color code</li>
</ul>

<h2 id="atmospheric-particulates-data-available">Atmospheric particulates data available</h2>

<ul>
  <li><a href="https://en.wikipedia.org/wiki/Air_quality_index" target="_blank">AQI</a></li>
  <li>PM2.5<a href="https://en.wikipedia.org/wiki/NowCast_(air_quality_index)" target="_blank"> NowCast </a>Concentration</li>
  <li><a href="https://en.wikipedia.org/wiki/Particulates">PM2.5</a></li>
</ul>

<h2 id="requirements">Requirements</h2>
<ul>
  <li>CanvasJS 2.0, get free license if you are a student <a href="https://canvasjs.com/apply/student/">here</a></li>
  <li>Query 3, get <a href="https://jquery.com/download/">here</a></li>
</ul>

<h2 id="how-it-works-1">How it works?</h2>
<p>Lets first create a simple CanvasJS, enable some of the useful features like animation, theme, interactive, tooltip, subtitles inside <code class="language-plaintext highlighter-rouge">chart_data</code></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">chart_data</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">animationEnabled</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">exportEnabled</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">exportFileName</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Phora Durbar Live AQI</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">animationDuration</span><span class="p">:</span> <span class="mi">1400</span><span class="p">,</span>
    <span class="na">zoomEnabled</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">zoomType</span><span class="p">:</span> <span class="dl">"</span><span class="s2">xy</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">theme</span><span class="p">:</span> <span class="dl">"</span><span class="s2">light1</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">interactivityEnabled</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>

    <span class="na">toolTip</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">content</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Date: {label}&lt;br/&gt;Data: {y}</span><span class="dl">"</span>
    <span class="p">},</span>

    <span class="na">axisY</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">title</span><span class="p">:</span> <span class="dl">"</span><span class="s2">AQI</span><span class="dl">"</span><span class="p">,</span>
        <span class="na">valueFormatString</span><span class="p">:</span> <span class="dl">"</span><span class="s2">#</span><span class="dl">"</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="na">title</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">text</span><span class="p">:</span> <span class="dl">"</span><span class="s2">AQI</span><span class="dl">"</span><span class="p">,</span>
    <span class="p">},</span>

    <span class="na">subtitles</span><span class="p">:</span> <span class="p">[{</span>
        <span class="na">text</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Phora Durbar, Kathmandu</span><span class="dl">"</span>
    <span class="p">}],</span>

<span class="p">}</span>
</code></pre></div></div>
<p>Next, we’ll define empty Array <code class="language-plaintext highlighter-rouge">dataPoints</code> in <code class="language-plaintext highlighter-rouge">chart_data</code></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">data</span><span class="p">:</span> <span class="p">[{</span>
     <span class="na">dataPoints</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">}]</span>
</code></pre></div></div>

<p>We are creating a visualization for realtime emission - <a href="https://www.epa.gov/">EPA</a> has physical stations in the various cities to measure air pollution levels and also keep record for historical data. We’ll simply use the <a href="https://www.airnow.gov/index.cfm?action=airnow.global_summary">data</a> available globally, collect the RSS feed available for your city and add URL to object. <code class="language-plaintext highlighter-rouge">window.onload</code> function is used to render the data first whenever CanvasJS is loaded.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">phora_pm2</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">https://dosairnowdata.org/dos/RSS/PhoraDurbarKathmandu/PhoraDurbarKathmandu-PM2.5.xml</span><span class="dl">'</span><span class="p">;</span>

<span class="nb">window</span><span class="p">.</span><span class="nx">onload</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">chartRenderer</span><span class="p">(</span><span class="nx">phora_pm2</span><span class="p">,</span>
        <span class="nx">chart_data</span><span class="p">,</span> <span class="dl">'</span><span class="s1">column</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">AQI</span><span class="dl">'</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div>

<p>We also need an AQI references where people would be able to distinguish the air pollution levels. It is divided into different color ranges and health messages.</p>

<p>Function <code class="language-plaintext highlighter-rouge">aqiColor</code> returns color code where AQI is input, add <code class="language-plaintext highlighter-rouge">healthMessage</code> to generate health message for AQI value <code class="language-plaintext highlighter-rouge">y</code>. The value range, color code and health message all can be found in the AQI Basics <a href="https://airnow.gov/index.cfm?action=aqibasics.aqi">doc</a>.</p>

<p><b>Note: You can change the chart type column to supported <a href="https://www.chartjs.org/docs/latest/charts/">Charts</a> by modifying chart_data when window.onload is initiated.</b></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">aqiColor</span><span class="p">(</span><span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">y</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="dl">"</span><span class="s2">#fff</span><span class="dl">"</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">y</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">y</span> <span class="o">&lt;=</span> <span class="mi">50</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="dl">"</span><span class="s2">#34e400</span><span class="dl">"</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">y</span> <span class="o">&gt;=</span> <span class="mi">51</span> <span class="o">&amp;&amp;</span> <span class="nx">y</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="dl">"</span><span class="s2">#fcff00</span><span class="dl">"</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">y</span> <span class="o">&gt;=</span> <span class="mi">101</span> <span class="o">&amp;&amp;</span> <span class="nx">y</span> <span class="o">&lt;=</span> <span class="mi">150</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="dl">"</span><span class="s2">#f77e01</span><span class="dl">"</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">y</span> <span class="o">&gt;=</span> <span class="mi">151</span> <span class="o">&amp;&amp;</span> <span class="nx">y</span> <span class="o">&lt;=</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="dl">"</span><span class="s2">#f61802</span><span class="dl">"</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">y</span> <span class="o">&gt;=</span> <span class="mi">201</span> <span class="o">&amp;&amp;</span> <span class="nx">y</span> <span class="o">&lt;=</span> <span class="mi">300</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="dl">"</span><span class="s2">#8f3f97</span><span class="dl">"</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">y</span> <span class="o">&gt;=</span> <span class="mi">301</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="dl">"</span><span class="s2">#7e0623</span><span class="dl">"</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">healthMessage</span><span class="p">(</span><span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">y</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="dl">"</span><span class="s2">&lt;div class='text-uppercase'&gt;Error!&lt;/div&gt;&lt;br/&gt;No data was received from the station</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">y</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">y</span> <span class="o">&lt;=</span> <span class="mi">50</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="dl">"</span><span class="s2">&lt;div class='text-uppercase'&gt;Good&lt;/div&gt;&lt;br/&gt;The AQI value is between 0 and 50. Air quality is satisfactory and poses little or no health risk.</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">y</span> <span class="o">&gt;=</span> <span class="mi">51</span> <span class="o">&amp;&amp;</span> <span class="nx">y</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="dl">"</span><span class="s2">&lt;div class='text-uppercase'&gt;Moderate&lt;/div&gt;&lt;br/&gt;The AQI is between 51 and 100. Air quality is acceptable; however, pollution in this range may pose a moderate health concern for a very small number of individuals. People who are unusually sensitive to ozone or particle pollution may experience respiratory symptoms.</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">y</span> <span class="o">&gt;=</span> <span class="mi">101</span> <span class="o">&amp;&amp;</span> <span class="nx">y</span> <span class="o">&lt;=</span> <span class="mi">150</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="dl">"</span><span class="s2">&lt;div class='text-uppercase'&gt;Unhealthy for Sensitive Groups&lt;/div&gt;&lt;br/&gt;When AQI values are between 101 and 150, members of sensitive groups may experience health effects, but the general public is unlikely to be affected.&lt;br&gt;&lt;b&gt;Ozone:&lt;/b&gt; People with lung disease, children, older adults, and people who are active outdoors are considered sensitive and therefore at greater risk.&lt;br&gt;&lt;b&gt;Particle pollution:&lt;/b&gt; People with heart or lung disease, older adults, and children are considered sensitive and therefore at greater risk.</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">y</span> <span class="o">&gt;=</span> <span class="mi">151</span> <span class="o">&amp;&amp;</span> <span class="nx">y</span> <span class="o">&lt;=</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="dl">"</span><span class="s2">&lt;div class='text-uppercase'&gt;Unhealthy&lt;/div&gt;&lt;br/&gt;Everyone may begin to experience health effects when AQI values are between 151 and 200. Members of sensitive groups may experience more serious health effects.</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">y</span> <span class="o">&gt;=</span> <span class="mi">201</span> <span class="o">&amp;&amp;</span> <span class="nx">y</span> <span class="o">&lt;=</span> <span class="mi">300</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="dl">"</span><span class="s2">&lt;div class='text-uppercase'&gt;Very Unhealthy&lt;/div&gt;&lt;br/&gt;AQI values between 201 and 300 trigger a health alert, meaning everyone may experience more serious health effects.</span><span class="dl">"</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">y</span> <span class="o">&gt;=</span> <span class="mi">301</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="dl">"</span><span class="s2">&lt;div class='text-uppercase'&gt;Hazardous&lt;/div&gt;&lt;br/&gt;&lt;b&gt;Health alert:&lt;/b&gt; AQI values over 300 trigger health warnings of emergency conditions. The entire population is even more likely to be affected by serious health effects.</span><span class="dl">"</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Finally, add function <code class="language-plaintext highlighter-rouge">chartRenderer</code> and include empty Arrays for <code class="language-plaintext highlighter-rouge">dataPoints</code> <code class="language-plaintext highlighter-rouge">lables_</code>. We use JQuery to fetch <a href="https://dosairnowdata.org/dos/RSS/PhoraDurbarKathmandu/PhoraDurbarKathmandu-PM2.5.xml">XML</a> data using <code class="language-plaintext highlighter-rouge">chartRenderer</code> function.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">chartRenderer</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">chartData</span><span class="p">,</span> <span class="nx">chartType</span><span class="p">,</span> <span class="nx">airDataType</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">chart</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">CanvasJS</span><span class="p">.</span><span class="nx">Chart</span><span class="p">(</span><span class="dl">"</span><span class="s2">chartContainer</span><span class="dl">"</span><span class="p">,</span> <span class="nx">chartData</span><span class="p">)</span>
    <span class="kd">let</span> <span class="nx">dataPoints</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="kd">let</span> <span class="nx">labels_</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="nx">$</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">$</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="dl">"</span><span class="s2">item</span><span class="dl">"</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">$dataPoint</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>

            <span class="kd">let</span> <span class="nx">label</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(</span><span class="nx">$dataPoint</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="dl">"</span><span class="s2">ReadingDateTime</span><span class="dl">"</span><span class="p">).</span><span class="nx">text</span><span class="p">()).</span><span class="nx">toLocaleString</span><span class="p">(</span><span class="dl">'</span><span class="s1">en-US</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
                <span class="na">month</span><span class="p">:</span> <span class="dl">'</span><span class="s1">short</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">day</span><span class="p">:</span> <span class="dl">'</span><span class="s1">numeric</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">hour</span><span class="p">:</span> <span class="dl">'</span><span class="s1">numeric</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">hour12</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="na">minute</span><span class="p">:</span> <span class="dl">'</span><span class="s1">numeric</span><span class="dl">'</span>
            <span class="p">});</span>
            <span class="kd">let</span> <span class="nx">y</span> <span class="o">=</span> <span class="nx">$dataPoint</span><span class="p">.</span><span class="nx">find</span><span class="p">(</span><span class="nx">airDataType</span><span class="p">).</span><span class="nx">text</span><span class="p">();</span>
            <span class="nx">dataPoints</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span><span class="na">label</span><span class="p">:</span> <span class="nx">label</span><span class="p">,</span> <span class="na">y</span><span class="p">:</span> <span class="nb">parseFloat</span><span class="p">(</span><span class="nx">y</span><span class="p">),</span> <span class="na">color</span><span class="p">:</span> <span class="nx">aqiColor</span><span class="p">(</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">y</span><span class="p">))});</span>
            <span class="nx">labels_</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">label</span><span class="p">)</span>

        <span class="p">});</span>
        <span class="nx">chartData</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">type</span> <span class="o">=</span> <span class="nx">chartType</span>
        <span class="nx">chartData</span><span class="p">.</span><span class="nx">data</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">dataPoints</span> <span class="o">=</span> <span class="nx">dataPoints</span>

        <span class="kd">let</span> <span class="nx">health_aqi</span> <span class="o">=</span> <span class="nx">dataPoints</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="kd">let</span> <span class="nx">z</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">health_aqi</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">y</span><span class="p">)</span>

        <span class="kd">let</span> <span class="nx">message</span> <span class="o">=</span> <span class="nx">healthMessage</span><span class="p">(</span><span class="nx">z</span><span class="p">)</span>

        <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">health_message</span><span class="dl">"</span><span class="p">).</span><span class="nx">innerHTML</span> <span class="o">=</span> <span class="nx">message</span>

        <span class="nx">chart</span><span class="p">.</span><span class="nx">render</span><span class="p">()</span>
    <span class="p">});</span>
</code></pre></div></div>
<p>If you refer to XML <a href="#xml-tree-structure">structure</a>, we are interested in XML <code class="language-plaintext highlighter-rouge">item</code> element where reading date, AQI and description are found. In <code class="language-plaintext highlighter-rouge">dataPoints</code>, <code class="language-plaintext highlighter-rouge">label</code> represents the time sequence in Month-Day-Time in 24hr format, <code class="language-plaintext highlighter-rouge">y</code> is AQI value in float data type, <code class="language-plaintext highlighter-rouge">aqiColor</code> fetch color code for every AQI, each feed from station may consists of 24 hours of data and interval of 1 hour update time. Later, the slicing is done to get the latest feed and generate health messages. Use <code class="language-plaintext highlighter-rouge">chart.render()</code> to visualize the chart. And don’t forget to add document.getElementById() method for <code class="language-plaintext highlighter-rouge">health_message</code> to render in HTML document.</p>

<h3 id="xml-tree-structure">Xml tree structure</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">.</span>
├── rss
    └── channel
        └── title
             └── item
                 └── title
                 └── description
                 └── param
                 └── conc
                 └── nowcastconc
                 └── aqi
                 └── desc
                 └── readingdatetime
</code></pre></div></div>

<h2 id="render-chart-in-html">Render Chart in HTML</h2>

<p>Import JQuery, CanvasJS, visualization_document.js in HTML head tag. CanvasJS only render a chart if you include id, height, and width. Likewise, we will use the append health messages.</p>

<p>To render CanvasJS;</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"chartContainer"</span> <span class="na">style=</span><span class="s">"height: 420px; width: 100%;"</span><span class="nt">&gt;&lt;/div&gt;</span>
</code></pre></div></div>

<p>To render health message;</p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"health_message"</span> <span class="na">class=</span><span class="s">"card text-justify"</span> <span class="na">style=</span><span class="s">"padding: 30px;"</span><span class="nt">&gt;</span>Updating...<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<p>We have successfully created a visualization graph with a health message for any latest AQI data. We are also adding a simple HTML table as a reference to the AQI color range and code to understand air quality better.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;table&gt;</span>
    <span class="nt">&lt;thead&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
            <span class="nt">&lt;th&gt;</span>Color<span class="nt">&lt;/th&gt;</span>
            <span class="nt">&lt;th&gt;</span>AQI Level<span class="nt">&lt;/th&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;/thead&gt;</span>
    <span class="nt">&lt;tbody&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">"background: #34e400;"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;td&gt;</span>0 - 50 Good<span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">"background: #fcff00;"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;td&gt;</span>51 - 100 Moderate<span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">"background: #f77e01;"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;td&gt;</span>101 - 150 Unhealthy for Sensitive Groups<span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">"background: #f61802;"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;td&gt;</span>151 - 200 Unhealthy<span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">"background: #8f3f97;"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;td&gt;</span>201 - 300 Very Unhealthy<span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
        <span class="nt">&lt;tr&gt;</span>
            <span class="nt">&lt;td</span> <span class="na">style=</span><span class="s">"background: #7e0623;"</span><span class="nt">&gt;&lt;/td&gt;</span>
            <span class="nt">&lt;td&gt;</span>301 - 500 Hazardous<span class="nt">&lt;/td&gt;</span>
        <span class="nt">&lt;/tr&gt;</span>
    <span class="nt">&lt;/tbody&gt;</span>
<span class="nt">&lt;/table&gt;</span>
</code></pre></div></div>

<h2 id="at-last">At last</h2>

<p>The final visualization;</p>

<p><img src="http://localhost:4000/assets/image/2018/chart_visualization.png" alt="Chart visualization" class="full" /></p>

<p>You can find the source code <a href="https://github.com/hbvj99/kathmandu-air">here</a> or view live <a href="https://vijaypathak.com.np/kathmandu-air">demo</a>.</p>

<p>If you got stuck somewhere, find project file structure tree below;</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>air_pollution
 |
 +-- index.html
 |    
 +-- js
 |  |  
 |  <span class="se">\-</span>- canvasjs.min.js
 |  <span class="se">\-</span>- live_visualize.js
 |  <span class="se">\-</span>- jquery.min.js.js   
</code></pre></div></div>
:ET